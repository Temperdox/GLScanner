<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link rel="stylesheet" href="css/style.css">
  <meta name="description" content="">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icon.png">

  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#fafafa">
</head>

<body>

<div class="input-group">
  <input type="text" name="kode_barang" id="kode_barang" class="form-control" placeholder="Cari Kode Barang/ Barcode">
  <div class="input-group-append">
    <button class="btn btn-primary" id="btnsearch" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
           width="20" height="20"
           viewBox="0 0 50 50"
           style=" fill:#000000;"><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"></path></svg>
    </button>
  </div>
</div>
<div id="returned">Version: 0.0.5</div>

    <script src="js/app.js"></script>
  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
<script>
  const html5QrcodeScanner = new Html5QrcodeScanner("qr-reader");
  const qrCodeSuccessCallback = (decodedText, decodedResult) => {
    /* handle success */
    console.log(`Scan result: ${decodedText}`, decodedResult);
    document.getElementById('kode').value=decodedText;
    // ...
    html5QrcodeScanner.clear();
  };
  const config = { fps: 10, qrbox: 250 };
  // Select front camera or fail with `OverconstrainedError`.
  html5QrcodeScanner.start({ facingMode: { exact: "environment"} }, config, qrCodeSuccessCallback);
  // html5QrcodeScanner.start({ facingMode: { exact: "user"} }, config, qrCodeSuccessCallback);
</script>
<!--<script>
  var html5QrcodeScanner = new Html5QrcodeScanner(
    "reader", { fps: 10, qrbox: 250 });

  html5QrcodeScanner.render(onScanSuccess);
  function onScanSuccess(decodedText, decodedResult) {
    // Handle on success condition with the decoded text or result.
    console.log(`Scan result: ${decodedText}`, decodedResult);
    document.getElementById('dec_code').value=decodedText;
    const userAction = async () => {
      const response = await fetch('https://api.nal.usda.gov/fdc/v1/food/' + decodedText + '?api_key=aEhCjuYhkfGxsOSgdrovQjMHWLRiBOuvoqs3thGr');
      const myJson = await response.json(); //extract JSON from the http response
      document.getElementById('returned').value=myJson;
      // do something with myJson
    }
    // ...
    html5QrcodeScanner.clear();
  }

  function onScanError(errorMessage) {
    // handle on error condition, with error message
  }
  html5QrcodeScanner.render(onScanSuccess, onScanError);
</script>-->

</body>

</html>
